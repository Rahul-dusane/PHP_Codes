<html>

<head>
    <title>Register</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <h2>Registration Form</h2>
    <form id="registrationForm">
        <label>UserName : </label><input type="text" name="username" required /><br><br>
        <label>Password : </label><input type="password" name="password" required /><br><br>
        <label>Confirm Password : </label><input type="password" name="confirm_password" required /><br><br>
        <label>email : </label><input type="email" name="email" required /><br><br>
        <label>Role : </label><select name="role" id="role">
            <option value="user">User</option>
            <option value="admin">Admin</option>
        </select><br><br>
        <button type="submit">Register</button><br><br>
    </form>

    
    <script>
        $(document).ready(function(){
            $("#registrationForm").on("submit", function(e){
                e.preventDefault();

                $.ajax({
                    url: "Registration.php",
                    type: "POST",
                    data: $(this).serialize(),
                    dataType: "json",
                    success: function(response){
                        console.log(response);
                        alert(response.message);

                        if(response.status === "success" && response.redirect){
                            window.location.href = response.redirect;
                        }
                    },
                    error: function(xhr, status, error){
                        console.error("Error: ", error);
                    }

                });
            });
        });
    </script>
</body>

</html>